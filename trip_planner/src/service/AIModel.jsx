import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };

    export const chatSession = model.startChat({
      generationConfig,
  
      history: [
        {
          role: "user",
          parts: [
            {text: "generate travel plan for location : las vegas for 3 days sfor coup;es with a chaeap budget ,give me a hotel option list with hotelName,hotel address ,price ,hotel image url,geo coordinates ,rating ,description and suggest itineary with placeName.Place details,place image url,geo coordinantes ,tickets pricing ,time to travel each of the location for 3 days with each day plan with best time to vist in json format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.theD.com/images/hotel/the-d-exterior-night.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1422° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street, known for its lively atmosphere and proximity to casinos and attractions.\"\n    },\n    {\n      \"hotelName\": \"The Golden Nugget\",\n      \"hotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$60-$150 per night\",\n      \"hotelImageUrl\": \"https://www.goldennugget.com/media/1307/golden-nugget-hotel-and-casino-las-vegas-exterior.jpg\",\n      \"geoCoordinates\": \"36.1695° N, 115.1411° W\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel and casino on Fremont Street, offering a mix of luxury and affordability with its famous shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://media.cntraveler.com/photos/5f04081a03c08928a77ea86e/master/pass/circus-circus-hotel-and-casino-las-vegas-exterior-night-las-vegas-nevada.jpg\",\n      \"geoCoordinates\": \"36.1149° N, 115.1725° W\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, known for its affordable prices and unique attractions.\"\n    },\n    {\n      \"hotelName\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$70-$120 per night\",\n      \"hotelImageUrl\": \"https://www.thestrat.com/sites/default/files/styles/header_desktop/public/2022-04/strat-hotel-exterior-2022.jpg\",\n      \"geoCoordinates\": \"36.1088° N, 115.1712° W\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A hotel with a unique tower offering panoramic views of the city, known for its thrilling rides and affordable rooms.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A vibrant pedestrian mall with a canopy of lights, live music, and street performers.\",\n          \"placeImageUrl\": \"https://www.fremontstreetexperience.com/sites/default/files/styles/hero_image_2000x600/public/2022-07/Fremont-Street-Experience-Vegas-Photography-15.jpg?itok=jW0O1F-S\",\n          \"geoCoordinates\": \"36.1699° N, 115.1422° W\",\n          \"ticketsPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\",\n          \"bestTimeToVisit\": \"Evening for the light show\"\n        },\n        {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"A museum showcasing historic neon signs from Las Vegas.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2021/03/neon-museum-las-vegas-sign-1024x512.jpg\",\n          \"geoCoordinates\": \"36.1644° N, 115.1372° W\",\n          \"ticketsPricing\": \"$20-$25\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Afternoon or early evening\"\n        },\n        {\n          \"placeName\": \"El Cortez Hotel & Casino\",\n          \"placeDetails\": \"A historic casino and hotel with a vintage charm, known for its affordable dining and drinks.\",\n          \"placeImageUrl\": \"https://www.elcortezhotelcasino.com/sites/default/files/styles/hero/public/el_cortez_hotel_casino_las_vegas_hero_2.jpg?itok=J-zR440m\",\n          \"geoCoordinates\": \"36.1687° N, 115.1406° W\",\n          \"ticketsPricing\": \"N/A\",\n          \"timeToTravel\": \"1 hour\",\n          \"bestTimeToVisit\": \"Evening for live music and entertainment\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A beautiful botanical garden with stunning displays, free to visit.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/pages/conservatory/conservatory-hero.jpg\",\n          \"geoCoordinates\": \"36.1101° N, 115.1728° W\",\n          \"ticketsPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Anytime\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining area with a giant observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/casino-resorts/linq/linq-promenade/linq-promenade-night-1.jpg\",\n          \"geoCoordinates\": \"36.1095° N, 115.1714° W\",\n          \"ticketsPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\",\n          \"bestTimeToVisit\": \"Evening for the light show\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"A spectacular water show with music and lights, free to watch.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/pages/fountains/fountains-hero.jpg\",\n          \"geoCoordinates\": \"36.1101° N, 115.1728° W\",\n          \"ticketsPricing\": \"Free\",\n          \"timeToTravel\": \"30 minutes - 1 hour\",\n          \"bestTimeToVisit\": \"Evening for the best show\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic canyon with hiking trails and stunning rock formations, a short drive from Las Vegas.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/Red_Rock_Canyon-NCA-Rock_formations.jpg\",\n          \"geoCoordinates\": \"36.0986° N, 115.2465° W\",\n          \"ticketsPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"Half day\",\n          \"bestTimeToVisit\": \"Morning or evening for cooler temperatures\"\n        },\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"A historic dam with a scenic overlook and tours available.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Hoover_Dam_%282014%29.jpg/1280px-Hoover_Dam_%282014%29.jpg\",\n          \"geoCoordinates\": \"36.0050° N, 114.9988° W\",\n          \"ticketsPricing\": \"Tour prices vary\",\n          \"timeToTravel\": \"Half day\",\n          \"bestTimeToVisit\": \"Anytime\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **Hotel Options:** This section provides a list of budget-friendly hotels in Las Vegas, with relevant information like address, price range, image URL, rating, and description.\n* **Itinerary:**\n    * **Day 1:** This plan focuses on exploring the vibrant Fremont Street area, visiting the Neon Museum, and experiencing the vintage charm of El Cortez Hotel & Casino.\n    * **Day 2:** This plan highlights the beauty of the Bellagio Conservatory and Botanical Garden, strolling through the LINQ Promenade, and enjoying the mesmerizing Fountains of Bellagio.\n    * **Day 3:** This plan involves a scenic drive to Red Rock Canyon National Conservation Area for hiking and exploring the breathtaking landscape. You can also visit the iconic Hoover Dam for a historical and engineering experience.\n\n**Budget Tips:**\n\n* **Travel during the off-season:** Avoid peak seasons like holidays and weekends for cheaper flight and hotel rates.\n* **Consider a hotel outside the Strip:** Hotels outside the Strip offer lower prices and may be more convenient for exploring the surrounding areas.\n* **Eat at local restaurants:** Explore less touristy areas for more affordable and authentic dining options.\n* **Take advantage of free activities:** Las Vegas has many free attractions like the Bellagio Conservatory, Fountains of Bellagio, and Fremont Street Experience.\n* **Bring your own drinks and snacks:** Save money by bringing your own drinks and snacks instead of purchasing them at hotels or casinos.\n* **Use public transportation:** The Las Vegas Monorail and bus system can save you money on parking and transportation costs.\n\n**Note:** Prices and availability may vary depending on the time of year and booking date. Remember to check official websites for the latest information.\n"},
          ],
        },
      ],
    });
  